# =============================================================================
# PROXMOX PROVIDER ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in your actual values
# The direnv plugin will automatically load these variables
#
# SECURITY NOTES:
# - Never commit .env file to git (already in .gitignore)
# - Use API tokens instead of user/password for production
# - Rotate credentials regularly
# =============================================================================

# ---------------------------------------------------------------------------
# Proxmox API Configuration
# ---------------------------------------------------------------------------
# Format: https://<proxmox-host>:<port>/api2/json
# Default port is 8006
# ---------------------------------------------------------------------------
PM_API_URL=https://proxmox.example.com:8006/api2/json

# =============================================================================
# AUTHENTICATION METHOD (Choose ONE)
# =============================================================================
# Option 1: API Token (RECOMMENDED - More secure, fine-grained permissions)
# Option 2: User/Password (Fallback - Simpler setup, less secure)
#
# Uncomment ONLY ONE authentication method below
# =============================================================================

# ---------------------------------------------------------------------------
# OPTION 1: API Token Authentication (RECOMMENDED)
# ---------------------------------------------------------------------------
# Create token in Proxmox UI:
# Datacenter > Permissions > API Tokens > Add
#
# Important:
# - Uncheck "Privilege Separation" for simpler setup
# - OR grant specific permissions to token if using Privilege Separation
#
# Format: <user>@<realm>!<token-name>
# Example: terraform@pam!terraform-token
# ---------------------------------------------------------------------------
PM_API_TOKEN_ID=terraform@pam!terraform-token
PM_API_TOKEN_SECRET=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# ---------------------------------------------------------------------------
# OPTION 2: User/Password Authentication (FALLBACK)
# ---------------------------------------------------------------------------
# Use this if you have issues with API tokens or for quick testing
# NOT RECOMMENDED for production - tokens are more secure
# ---------------------------------------------------------------------------
# PM_USER=root@pam
# PM_PASS=your-password-here

# ---------------------------------------------------------------------------
# TLS Configuration
# ---------------------------------------------------------------------------
# Set to true to skip TLS certificate verification (useful for self-signed)
# Set to false in production with proper certificates
# ---------------------------------------------------------------------------
PM_TLS_INSECURE=true

# ---------------------------------------------------------------------------
# Optional: Debug Configuration
# ---------------------------------------------------------------------------
# Uncomment to enable debug logging
# ---------------------------------------------------------------------------
# PM_LOG_ENABLE=true
# PM_LOG_FILE=terraform-plugin-proxmox.log
# PM_LOG_LEVELS=_default=debug
# PM_TIMEOUT=300
# PM_PARALLEL=4

# ---------------------------------------------------------------------------
# Optional: OTP (One-Time Password) for 2FA
# ---------------------------------------------------------------------------
# If your Proxmox user has 2FA enabled
# ---------------------------------------------------------------------------
# PM_OTP=123456

# =============================================================================
# EXAMPLE USAGE:
# =============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Edit .env with your credentials
# 3. Allow direnv: direnv allow .
# 4. Run terraform: terraform init && terraform plan
#
# The environment variables will be automatically loaded by direnv
# =============================================================================
